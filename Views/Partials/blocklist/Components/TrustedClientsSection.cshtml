@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;

@{
    var content = (ContentModels.TrustedClientsSection)Model.Content;
}

<section class="relative overflow-hidden" style="padding-top: 28px; padding-bottom: 0;">
    <div class="relative mx-auto text-center" style="width:1171px; max-width:100%;">

        <!-- Kart-bakgrund (längst bak) -->
        @if (content.ClientBgMap != null)
        {
            <div class="absolute"
                 style="
                        top: 84px;
                        left: 50%;
                        transform: translateX(-50%);
                        width: 1171px;
                        max-width: 100%;
                        height: 430px;
                        background-image: url('@content.ClientBgMap.Url()');
                        background-repeat: no-repeat;
                        background-position: center;
                        background-size: cover;
                        pointer-events: none;
                        z-index: 1;">
            </div>
        }

        <!-- Text + knapp (överst) -->
        <div class="relative mx-auto" style="z-index: 3; max-width: 770px;">
            @* Rubrik *@
            @if (content.TrustedSectionTitle != null)
            {
                <div class="rte main-header" style="margin-bottom: 10px;">
                    @Html.Raw(content.TrustedSectionTitle)
                </div>
            }

            @* Brödtext *@
            @if (content.ClientSectionDescription != null)
            {
                <div class="rte" style="margin: 0 auto 20px auto;">
                    @Html.Raw(content.ClientSectionDescription)
                </div>
            }

            @* Knapp *@
@if (!string.IsNullOrWhiteSpace(content.ClientStoryButton?.ToString()))
{
    <div class="text-center mt-4 relative z-30">
        <a href="/about" class="btn-primary">
            @Html.Raw(content.ClientStoryButton)
        </a>
    </div>
}


        </div>

        <!-- People-bild i normalt flöde (framför kartan, bakom text) -->
        @if (content.ClientBgImage != null)
        {
            <img src="@content.ClientBgImage.Url()" alt="Trusted clients"
                 class="block mx-auto"
                 style="
                        width: 1171px;
                        max-width: 100%;
                        height: auto;
                        margin-top: 28px;
                        z-index: 2;
                        position: relative;" />
        }
    </div>
</section>
